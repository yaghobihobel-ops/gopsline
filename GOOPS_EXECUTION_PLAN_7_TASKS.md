# برنامه اجرایی ۷ تسک جامع سامانه گُوپس

## نمای کلی آمادگی اجرا
| Task | عنوان | وضعیت آمادگی | پیش‌نیازهای تکمیل‌شده | خروجی کلیدی برای استارت |
|------|-------|---------------|-------------------------|---------------------------|
| Task 1 | زیرساخت سرویس‌های خارجی و لایه‌های انتزاعی | ✅ آماده اجرا | مطالعه کامل اسناد تحلیل و تعیین تیم فنی بک‌اند | برنامه زمان‌بندی پیاده‌سازی Map/SMS/Realtime/Cache و دسترسی به محیط تست |
| Task 2 | ماژول نقشه و مناطق سرویس‌دهی در کلاینت‌ها | ⏳ پس از Task 1 | مهیا بودن API و کلیدهای نشان، هماهنگی تیم‌های فرانت | فهرست اپلیکیشن‌ها و مسئول هر کدام + اسکریپت نمونه Neshan |
| Task 3 | پرداخت زرین‌پال، مغایرت‌ها و گزارش تسویه | ⏳ پس از Task 1 | قرارداد زرین‌پال، مستند جریان مالی موجود | دسترسی Sandbox، مشخص شدن مالک فرآیند مالی |
| Task 4 | منطق سفارش، موجودی و پشتیبانی از مامان‌ها | ⏳ پس از Tasks 2 & 3 | مستند جریان‌های فعلی و خروجی‌های نقشه و پرداخت | نقشه فرآیندی به‌روزشده و تیم محصول/بک‌اند هم‌راستا |
| Task 5 | بومی‌سازی نهایی زبان، تومان، شمسی و UX | ⏳ پس از Task 4 | نهایی‌شدن جریان‌ها و متون کلیدی | تیم محتوا/فرانت در دسترس، لیست صفحه‌های اولویت‌دار |
| Task 6 | تضمین کیفیت، تست‌های E2E و آماده‌سازی لانچ | ⏳ پس از Tasks 1–5 | خروجی‌های فنی تثبیت‌شده، محیط تست پایدار | ابزار تست انتخاب شده و CI آماده اجرای تست |
| Task 7 | مستندسازی و تجربه توسعه‌دهنده | ⏳ موازی با خروجی Tasks 1–6 | نسخه‌های اولیه خروجی‌های فنی | مالک مستندسازی مشخص و قالب مستندات تایید شده |

> وضعیت «آماده اجرا» به معنی آن است که تمامی پیش‌نیازهای آغاز کار (دسترسی‌ها، تصمیمات، نیروی انسانی) فراهم شده‌اند. در صورت تغییر شرایط، جدول فوق باید به‌روزرسانی شود.

## Task 1 – زیرساخت سرویس‌های خارجی و لایه‌های انتزاعی
**هدف:**  ایجاد ستون فقرات فنی برای جایگزینی سرویس‌های بین‌المللی با ارائه‌دهندگان بومی و تضمین اینکه زیرساخت پیام‌رسانی، نقشه، کش و لاگینگ به شکل ماژولار و قابل پیکربندی عمل کند. این گام پیش‌نیاز تمام اصلاحات بومی‌سازی در اسناد `ANALYSIS.md` و `ROADMAP.md` است.
**Subtasks (زیرکارها):**
- [T-101] طراحی لایه `MapProvider` انتزاعی در بک‌اند (`protected/components`) جهت جداکردن وابستگی نقشه از منطق تجاری. (از لیست ۲۰تایی #1 و تحلیل معماری)
- [T-102] پیاده‌سازی ارائه‌دهنده `NeshanMapProvider` و افزودن تنظیمات آن در پنل ادمین. (لیست ۲۰تایی #2، سناریوی نقشه در `TEST_SCENARIOS.md`)
- [T-103] استخراج و متمرکزسازی ارسال پیامک در سرویسی مستقل با اینترفیس واحد. (لیست ۲۰تایی #6، نیازمندی‌های `ANALYSIS.md`)
- [T-104] توسعه آداپتور پیامک برای سرویس‌دهنده ایرانی و اتصال آن به تنظیمات. (لیست ۲۰تایی #7، چک‌لیست وابستگی‌های خارجی)
- [T-105] ممیزی تنظیمات Realtime (Firebase/Pusher) و مستندسازی گزینه‌های جایگزین یا پراکسی داخلی. (لیست ۲۰تایی #8، ریسک‌های `QA_EVALUATION.md`)
- [T-106] افزودن لایه کش (Redis/File) برای کوئری‌های پرتکرار API و ثبت سیاست انقضا. (لیست ۲۰تایی #18)
- [T-107] طراحی سرویس لاگ مرکزی برای تراکنش‌ها و رویدادهای حیاتی با خروجی قابل مانیتورینگ. (لیست ۲۰تایی #19، ریسک پرداخت در `QA_EVALUATION.md`)
**Dependencies (وابستگی‌ها):**
- این تسک پس از مطالعه کامل مستندات فاز تحلیل (`ANALYSIS.md`, `ROADMAP.md`) آغاز می‌شود.
- پیش‌نیاز تسک‌های 2، 3، 4 و 7 است؛ زیرا نقشه، پرداخت، جریان سفارش و مستندسازی بر این لایه‌ها تکیه دارند.
**Deliverables (خروجی‌های قابل تحویل):**
- ماژول‌های `MapProvider`, `SmsProvider`, `RealtimeProvider`, `CacheService`, `CentralLogger` در بک‌اند با اسناد پیکربندی.
- تنظیمات پنل ادمین برای مدیریت کلیدهای Neshan، SMS، Realtime و کش.
- مستند فنی شامل نحوه افزودن ارائه‌دهندگان جدید و جریان‌های خطای لاگ شده.
**Team & Owner:** تیم بک‌اند (PHP/Yii) با همراهی DevOps برای تنظیم محیط و معمار سیستم.
**Kickoff Checklist:**
- تأمین کلیدهای تست Neshan، سرویس پیامک ایرانی و سرویس Realtime منتخب.
- تصمیم‌گیری درباره زیرساخت کش (Redis یا فایل) و دسترسی به سرور تست.
- تعیین Convention نام‌گذاری رویدادها برای لاگ مرکزی.
**Acceptance Criteria:**
- هر سرویس انتزاعی دارای Interface، پیاده‌سازی نمونه و تست‌های یکپارچه است.
- پنل ادمین امکان فعال/غیرفعال‌سازی و تنظیم کلیدهای هر سرویس را دارد.
- لاگ مرکزی حداقل یک داشبورد یا خروجی ساختاریافته برای تحلیل دارد.
**Risks & Mitigations:**
- *ریسک:* محدودیت دسترسی APIهای بومی. *راهکار:* پیش‌خرید سرویس‌ها و ایجاد Mock داخلی برای توسعه.
- *ریسک:* پیچیدگی در همگام‌سازی کش. *راهکار:* شروع با استراتژی Cache-aside و مستندسازی سیاست انقضا.

## Task 2 – ماژول نقشه و مناطق سرویس‌دهی در کلاینت‌ها
**هدف:**  تضمین تجربه یکپارچه نقشه برای مشتری، مامان، راننده و KDS با استفاده از زیرساخت جدید نشان، همگام با منطق مناطق در بک‌اند و رفع ریسک بارگذاری اسکریپت که در `QA_EVALUATION.md` ثبت شده است.
**Subtasks (زیرکارها):**
- [T-201] جایگزینی کامپوننت‌های `vue3-google-map` با `NeshanMap` بومی در تمام اپ‌های Quasar (`MobileVue`, `MerchantVue`, `DriverVue`, `KicthenMobile`). (لیست ۲۰تایی #3)
- [T-202] همگام‌سازی تعریف Zone/Polygon بین پنل ادمین و اپ‌ها، شامل سریال‌سازی استاندارد و تست API. (مسائل `ROADMAP.md` و `TEST_SCENARIOS.md`)
- [T-203] بارگذاری تنبل و ایمن اسکریپت نقشه برای جلوگیری از کرش در حالت آفلاین. (ریسک ۵ در `QA_EVALUATION.md`)
- [T-204] افزودن تست‌های تعاملی دستی/خودکار برای سناریوهای نقشه و آدرس‌دهی. (نیازمندی سناریوهای نقشه در `TEST_SCENARIOS.md`)
**Dependencies (وابستگی‌ها):**
- باید پس از تکمیل Task 1 (برای دریافت لایه MapProvider و تنظیمات API) شروع شود.
- خروجی آن ورودی Task 4 (جریان سفارش) و Task 6 (تست) است.
**Deliverables (خروجی‌های قابل تحویل):**
- کامپوننت‌های نقشه جدید در هر اپ با مستند استفاده.
- API هماهنگ برای Zone/Polygon و تست‌های پذیرش پوشش‌دهنده سناریوهای نقشه.
- سند راهنمای عیب‌یابی بارگذاری نقشه در حالت‌های آفلاین/ضعیف.
**Team & Owner:** لید فرانت‌اند (Quasar/Vue) + نماینده هر اپ موبایل/وب، هماهنگ با بک‌اند برای API.
**Kickoff Checklist:**
- دریافت کلیدهای محیط تست نشان و آدرس سرور جدید MapProvider.
- همگام‌سازی با تیم بک‌اند درباره ساختار نهایی Zone/Polygon.
- تأیید لیست اپلیکیشن‌ها و تعیین مسئول پیاده‌سازی هر یک.
**Acceptance Criteria:**
- همه اپلیکیشن‌ها بدون وابستگی به Google Maps اجرا می‌شوند و fallback آفلاین دارند.
- تست‌های تعاملی نقشه با موفقیت سناریوهای `TEST_SCENARIOS.md` را پوشش می‌دهند.
- کاربران می‌توانند مناطق سرویس را مشاهده/ویرایش کنند و داده‌ها با بک‌اند همگام است.
**Risks & Mitigations:**
- *ریسک:* تفاوت نسخه Quasar بین اپ‌ها. *راهکار:* تعریف الگوی مشترک و بروزرسانی تدریجی.
- *ریسک:* عملکرد ضعیف در موبایل‌های قدیمی. *راهکار:* سنجش عملکرد و استفاده از lazy loading و کاهش حجم باندل.

## Task 3 – پرداخت زرین‌پال، مغایرت‌ها و گزارش تسویه
**هدف:**  تکمیل چرخه پرداخت بومی با مدیریت خطا، ثبت لاگ و ارائه گزارش‌های مالی دقیق مطابق هشدارهای `QA_EVALUATION.md` و نیازمندی‌های `FINAL_CHECKLIST.md`.
**Subtasks (زیرکارها):**
- [T-301] توسعه ماژول/کنترلر زرین‌پال در بک‌اند و اتصال آن به پنل تنظیمات. (لیست ۲۰تایی #4، مسیرهای `ROADMAP.md`)
- [T-302] مدیریت کامل سناریوهای failure، انصراف و تایم‌اوت در پرداخت و همگام‌سازی وضعیت سفارش. (لیست ۲۰تایی #5، ریسک ۲ در `QA_EVALUATION.md`)
- [T-303] افزودن ستون‌ها و نماهای گزارش‌گیری جدید برای تسویه و مغایرت در دیتابیس. (لیست ۲۰تایی #13)
- [T-304] یکپارچه‌سازی تراکنش‌ها با سرویس لاگ مرکزی برای پیگیری و هشدار. (وابسته به Task 1، همسو با آیتم‌های Anti-Forgetting در `FINAL_CHECKLIST.md`)
**Dependencies (وابستگی‌ها):**
- شروع پس از Task 1 (برای دسترسی به لاگ مرکزی و پیکربندی سرویس‌ها).
- پیش‌نیاز Task 4 (برای به‌روزرسانی جریان سفارش) و Task 6 (برای سناریوهای تست پرداخت).
**Deliverables (خروجی‌های قابل تحویل):**
- ماژول زرین‌پال با مدارک Sandbox/Production، کنترلر و view تنظیمات.
- گزارش‌های مالی شامل وضعیت پرداخت، تسویه، مغایرت و خروجی‌های CSV/Excel.
- داشبورد مانیتورینگ یا گزارش لاگ مرکزی برای رویدادهای پرداخت و هشدار خطا.
**Team & Owner:** تیم بک‌اند مالی (PHP/Yii) با همکاری واحد مالی/حسابداری و DevOps برای وبهوک‌ها.
**Kickoff Checklist:**
- تهیه قرارداد و دسترسی Sandbox/Production زرین‌پال.
- تعریف وضعیت‌های جدید پرداخت و مستندسازی آن‌ها با تیم مالی.
- آماده‌سازی Migration دیتابیس و برنامه تست regression پرداخت.
**Acceptance Criteria:**
- سناریوهای موفق، لغو و خطای پرداخت در تست‌های خودکار و دستی پوشش داده شده‌اند.
- گزارش تسویه شامل فیلتر تاریخ شمسی و خروجی قابل دانلود است.
- خطاهای پرداخت در لاگ مرکزی با شناسه یکتا ثبت می‌شوند و هشدار ارسال می‌گردد.
**Risks & Mitigations:**
- *ریسک:* تغییرات API زرین‌پال. *راهکار:* استفاده از SDK رسمی و ایجاد لایه Wrapper.
- *ریسک:* اختلال در تسویه حساب. *راهکار:* تعریف فرآیند fallback و مستندسازی اقدامات دستی.

## Task 4 – منطق سفارش، موجودی و پشتیبانی از مامان‌ها
**هدف:**  کامل‌سازی فرآیند سفارش از نگاه مامان و مشتری با تاکید بر مدیریت موجودی، ثبت شکایات و بهبود تجربه کاربری مامان طبق نیازهای مطرح‌شده در `ANALYSIS.md` و `FINAL_CHECKLIST.md`.
**Subtasks (زیرکارها):**
- [T-401] پیاده‌سازی منطق کاهش `stock` پس از تایید سفارش و پوشش سناریوهای لغو/بازپرداخت. (لیست ۲۰تایی #11، ریسک ۴ در `QA_EVALUATION.md`)
- [T-402] توسعه ماژول ثبت و پیگیری شکایات مشتری در پنل ادمین و اپ مامان. (لیست ۲۰تایی #9)
- [T-403] طراحی داشبورد مامان با KPIهای کلیدی روزانه (سفارش، ظرفیت، درآمد). (لیست ۲۰تایی #10، نیازهای UX در `FINAL_CHECKLIST.md`)
- [T-404] بازطراحی فرآیند آنبوردینگ مامان با چک‌لیست مدارک و وضعیت پیشرفت. (لیست ۲۰تایی #20)
- [T-405] بازنگری جریان مشتری-مامان بر اساس سناریوهای `TEST_SCENARIOS.md` برای اطمینان از سازگاری.
**Dependencies (وابستگی‌ها):**
- وابسته به Task 2 (اطمینان از دسترسی به نقشه و مناطق) و Task 3 (وضعیت پرداخت دقیق).
- خروجی آن ورودی Task 5 (برای پیام‌رسانی و متون)، Task 6 (برای تست E2E) است.
**Deliverables (خروجی‌های قابل تحویل):**
- منطق سفارش به‌روزشده با تست واحد/یکپارچه و مستند جریان‌های استثناء.
- صفحات و APIهای جدید برای شکایات و داشبورد مامان با گزارش‌های مرتبط.
- اسناد فرآیند آنبوردینگ مامان و راهنمای پشتیبانی.
**Team & Owner:** تیم محصول + بک‌اند سفارشات + طراح UX/UI برای داشبورد مامان + پشتیبانی عملیاتی.
**Kickoff Checklist:**
- مرور Journey فعلی مامان/مشتری و تایید نقاط درد توسط استیک‌هولدرها.
- داشتن خروجی نقشه و پرداخت (Tasks 2 و 3) برای همگام‌سازی داده‌ها.
- تعیین معیارهای KPI برای داشبورد و فرآیند شکایات.
**Acceptance Criteria:**
- موجودی پس از هر تغییر سفارش به‌روزرسانی و در گزارش‌ها نمایش داده می‌شود.
- داشبورد مامان KPIهای تصویب‌شده را با داده صحیح نشان می‌دهد و فیلتر تاریخ شمسی دارد.
- گردش‌کار شکایات شامل ایجاد، پیگیری و بستن تیکت با اطلاع‌رسانی مناسب است.
**Risks & Mitigations:**
- *ریسک:* پیچیدگی سناریوهای استثناء سفارش. *راهکار:* تعریف Use Caseها و نوشتن تست قبل از توسعه.
- *ریسک:* مقاومت کاربران در برابر فرآیند جدید. *راهکار:* جلسات آموزشی و مستند راهنما در Task 7.

## Task 5 – بومی‌سازی نهایی زبان، تومان، شمسی و UX
**هدف:**  رساندن تجربه کاربری به استاندارد بومی با پوشش زبان، فرمت‌ها، پیام‌ها و محتوای فارسی مطابق بخش‌های باز در `FINAL_CHECKLIST.md` و `TEST_SCENARIOS.md`.
**Subtasks (زیرکارها):**
- [T-501] ممیزی کامل نمایش تومان و حذف اعشار در همه کانال‌ها (وب، اپ، ایمیل، گزارش). (تداوم کارهای فاز ۲ در `ROADMAP.md`)
- [T-502] همگام‌سازی تاریخ شمسی در UI، ایمیل‌ها و اعلان‌های Push با فیلترهای مناسب. (لیست ۲۰تایی #12، ریسک ۱ در `QA_EVALUATION.md`)
- [T-503] ایجاد ساختار چندزبانه Quasar با فایل‌های ترجمه ماژولار و انتخاب زبان. (لیست ۲۰تایی #14)
- [T-504] بازبینی RTL، لحن ترجمه‌ها، پیام‌های خطا و صفحات استاتیک طبق آیتم‌های باز `FINAL_CHECKLIST.md`.
- [T-505] اطمینان از یکپارچگی محتوا در فرآیندهای جدید مامان/مشتری پس از Task 4.
**Dependencies (وابستگی‌ها):**
- آغاز پس از Task 4 (برای آگاهی از جریان‌های نهایی) و همگام با Task 7 (برای مستندسازی تغییرات ترجمه).
- پیش‌نیاز Task 6 جهت تعریف تست‌های بومی‌سازی.
**Deliverables (خروجی‌های قابل تحویل):**
- فایل‌های ترجمه و تنظیمات RTL به‌روزشده در تمام اپ‌ها.
- راهنمای سبک محتوا (tone & voice) و استانداردهای تاریخ/واحد پول.
- نتایج بازبینی صفحات کلیدی با اسکرین‌شات و چک‌لیست تکمیل‌شده.
**Team & Owner:** تیم فرانت‌اند + تیم محتوا/ترجمه + نماینده پشتیبانی برای بازبینی متون.
**Kickoff Checklist:**
- جمع‌آوری تمام متون و قالب‌های ایمیل/اعلان موجود.
- هماهنگی با تیم حقوقی/بازاریابی برای تأیید لحن و اصطلاحات.
- تعیین ابزار مدیریت ترجمه (مثلاً JSON + guide یا سرویس third-party).
**Acceptance Criteria:**
- تمامی واحدهای پولی به تومان نمایش داده شده و تست snapshot تغییری را پوشش می‌دهد.
- تاریخ‌های شمسی در UI، ایمیل و Push هم‌خوان هستند و fallback میلادی مستند است.
- RTL در تمام صفحات حساس (ثبت‌نام، داشبورد، سفارش) بدون شکستگی عمل می‌کند.
**Risks & Mitigations:**
- *ریسک:* دوگانگی در متون به دلیل کش‌های قدیمی. *راهکار:* همگام‌سازی با Task 1 برای بازنشانی کش و مستندسازی انتشار.
- *ریسک:* افزایش حجم فایل‌های ترجمه. *راهکار:* Modularization و استفاده از code splitting در Task 7.

## Task 6 – تضمین کیفیت، تست‌های E2E و آماده‌سازی لانچ
**هدف:**  تثبیت کیفیت سامانه پیش از لانچ با همگام‌سازی سناریوهای تست، پوشش خودکار و همخوانی با `FINAL_CHECKLIST.md` و `QA_EVALUATION.md`.
**Subtasks (زیرکارها):**
- [T-601] به‌روزرسانی `TEST_SCENARIOS.md` بر اساس تغییرات Tasks 1–5 و اضافه کردن سناریوهای جدید (پرداخت failure، شکایات، نقشه آفلاین).
- [T-602] پیاده‌سازی تست‌های E2E حداقلی با Cypress یا Playwright برای جریان‌های مشتری و مامان. (لیست ۲۰تایی #15)
- [T-603] همگام‌سازی و تکمیل `FINAL_CHECKLIST.md` و `QA_EVALUATION.md` با نتایج جدید، علامت‌گذاری ریسک‌های باقی‌مانده.
- [T-604] تعریف فرآیند Regression Manual با استفاده از سناریوهای مستندسازی‌شده و گزارش‌دهی نتایج.
**Dependencies (وابستگی‌ها):**
- وابسته به تکمیل حداقلی Tasks 1–5 برای دسترسی به جریان‌های پایدار.
- خروجی آن ورودی فرآیند تحویل نهایی و مستندسازی Task 7 است.
**Deliverables (خروجی‌های قابل تحویل):**
- نسخه به‌روز سناریوهای تست و چک‌لیست‌ها با وضعیت Pass/Fail.
- اسکریپت‌های تست E2E همراه با گزارش اجرا (HTML/JUnit) و دستور اجرای مستند.
- گزارش QA نهایی شامل جمع‌بندی باگ‌های باز و پیشنهادهای بهبود.
**Team & Owner:** تیم QA/تست با همکاری DevOps و نمایندگان محصول.
**Kickoff Checklist:**
- انتخاب ابزار تست (Cypress/Playwright) و پیکربندی در CI/CD.
- تهیه داده‌های تست و حساب‌های کاربری برای سناریوهای کلیدی.
- هماهنگی با تیم‌های فنی جهت Freeze نسبی کد هنگام اجرای تست نهایی.
**Acceptance Criteria:**
- تمام سناریوهای `TEST_SCENARIOS.md` وضعیت و نتایج مشخص دارند.
- تست‌های E2E حداقل جریان‌های سفارش موفق/ناموفق، شکایات و بومی‌سازی را پوشش می‌دهند.
- گزارش QA نهایی شامل لیست باگ‌های باز با اولویت و برنامه حل است.
**Risks & Mitigations:**
- *ریسک:* طولانی شدن اجرای تست‌ها. *راهکار:* موازی‌سازی در CI و تفکیک Smoke/E2E کامل.
- *ریسک:* کمبود محیط پایدار. *راهکار:* ایجاد Snapshot دیتابیس و استفاده از محیط جداگانه برای QA.

## Task 7 – مستندسازی و تجربه توسعه‌دهنده
**هدف:**  ایجاد تجربه توسعه‌دهنده منسجم با راهنماهای نصب، پیکربندی و conventions جدید تا تیم بتواند تغییرات بومی‌سازی را پایدار نگه دارد؛ مطابق نیازهای باز در `FINAL_CHECKLIST.md` و تاکید `GOOPS_SYSTEM_MAP.md`.
**Subtasks (زیرکارها):**
- [T-701] نهایی‌سازی و به‌روزرسانی `GOOPS_SYSTEM_MAP.md` و سایر اسناد Julius با انعکاس تغییرات Tasks 1–6.
- [T-702] تدوین README ریشه با دستورالعمل نصب Backend/Frontend، راه‌اندازی دیتابیس و اجرای تست‌ها. (لیست ۲۰تایی #16)
- [T-703] ایجاد راهنمای پیکربندی برای کلیدهای Neshan، زرین‌پال، SMS، Cache و Realtime (همسو با Task 1 و 3). (لیست ۲۰تایی #8 مرتبط با config)
- [T-704] تعریف conventions جدید (نام‌گذاری وضعیت سفارش، ساختار ترجمه، ساختار لاگ) و مستندسازی آن‌ها.
- [T-705] مستندسازی بهینه‌سازی باندل‌های Quasar (Code Splitting، Lazy Loading) و اعمال پیکربندی لازم. (لیست ۲۰تایی #17)
**Dependencies (وابستگی‌ها):**
- باید پس از در دسترس بودن خروجی‌های اولیه Tasks 1–5 آغاز شود تا اطلاعات دقیق مستند شود؛ با Task 6 برای خروجی تست هماهنگ گردد.
- خروجی آن برای تحویل پروژه و آموزش تیم ضروری است.
**Deliverables (خروجی‌های قابل تحویل):**
- README جامع، راهنمای پیکربندی و اسناد conventions در ریشه ریپو.
- نسخه نهایی اسناد سیستم (System Map، Domain Overview، Roadmap به‌روزشده) با لینک‌های متقابل.
- بخش «Developer Onboarding» شامل چک‌لیست نصب، اجرای تست و راهنمای بیلد Quasar.
**Team & Owner:** Technical Writer یا DevRel به همراه معمار سیستم و لیدهای فنی.
**Kickoff Checklist:**
- گردآوری خروجی‌های نهایی Tasks 1–6 و تعیین قالب استاندارد مستندات.
- تعیین ریویوئر برای هر سند (معمار، QA، محصول).
- برنامه‌ریزی انتشار نهایی و محل ذخیره (ریپو، ویکی، Notion).
**Acceptance Criteria:**
- README ریشه شامل مراحل نصب، تنظیم متغیرهای محیطی، اجرای تست و build است.
- تمام اسناد مرجع لینک متقابل دارند و نسخه‌گذاری/تاریخ آخرین به‌روزرسانی درج شده است.
- راهنمای Onboarding شامل چک‌لیست ۱ روزه برای توسعه‌دهنده جدید است.
**Risks & Mitigations:**
- *ریسک:* عدم هماهنگی نسخه اسناد با کد. *راهکار:* تعریف فرآیند مستندسازی در PR Template و مسئولیت‌پذیری.
- *ریسک:* پراکندگی فایل‌ها. *راهکار:* ایجاد ساختار پوشه `docs/` و لینک‌دهی از README.

## تابلو اجرایی کامل (Full Execution Board)
برای اجرای بدون ابهام هر اپیک، جدول زیر مجموعه تسک‌های عملیاتی را با شناسه، مالک، وابستگی و خروجی قابل تحویل مشخص می‌کند. این جدول به عنوان ورودی مستقیم برای ابزار مدیریت پروژه (Jira, ClickUp, Linear) قابل استفاده است.

| شناسه | اپیک مرتبط | توضیح اقدام | مالک پیشنهادی | پیش‌نیاز | خروجی تاییدپذیر |
|-------|-------------|-------------|----------------|-----------|------------------|
| FX-101 | Task 1 | طراحی Interfaceهای `MapProvider`, `SmsProvider`, `RealtimeProvider` در بک‌اند و انتشار PR اولیه با تست واحد | Lead بک‌اند | مطالعه اسناد تحلیل | PR Merge شده با پوشش تست >80% برای ماژول‌های جدید |
| FX-102 | Task 1 | پیاده‌سازی `NeshanMapProvider` و صفحه تنظیمات ادمین برای ثبت کلیدها + مستند راه‌اندازی | Backend + Admin Panel Dev | FX-101 | صفحه تنظیمات فعال در محیط تست به همراه مستند پیکربندی |
| FX-103 | Task 1 | استخراج سرویس پیامک و افزودن آداپتور ارائه‌دهنده ایرانی، شامل fallback و لاگ خطا | Backend Dev | FX-101 | سرویس پیامک جدید در محیط تست با گزارش ارسال در لاگ مرکزی |
| FX-104 | Task 1 | راه‌اندازی سرویس کش (Redis/file) و تعریف policyهای انقضا در config + مستند DevOps | DevOps | FX-101 | محیط تست با کش فعال و راهنمای استفاده در README |
| FX-105 | Task 1 | طراحی سرویس لاگ مرکزی و داکیومنت داشبورد مانیتورینگ تراکنش‌ها | Backend + DevOps | FX-101 | داشبورد اولیه + نمونه گزارش خروجی JSON/CSV |
| FX-201 | Task 2 | جایگزینی کامپوننت نقشه در `MobileVue` با Neshan و تست دستی | Frontend Mobile | FX-102 | Merge PR با اسکرین‌شات و تست کارکرد جست‌وجوی آدرس |
| FX-202 | Task 2 | تکرار جایگزینی برای `MerchantVue`, `DriverVue`, `KitchenMobile` و هماهنگی UI | Frontend Guild | FX-201 | PRهای مجزا برای هر اپ + نتایج تست کاربری |
| FX-203 | Task 2 | تعریف API مشترک Zone/Polygon و هماهنگی Serialization در بک‌اند و کلاینت‌ها | Backend + Frontend | FX-102, FX-201 | مستند قرارداد API + تست یکپارچه پاس |
| FX-204 | Task 2 | اضافه‌کردن تست‌های تعاملی نقشه (Cypress/Playwright) برای جریان انتخاب آدرس | QA | FX-201 | اسکریپت تست E2E و گزارش اجرای اولیه |
| FX-301 | Task 3 | توسعه ماژول زرین‌پال با تمام سناریوهای موفق/ناموفق و اتصال به پنل تنظیمات | Backend مالی | FX-105 | PR Merge شده با تست یکپارچه پرداخت |
| FX-302 | Task 3 | طراحی Migration گزارش‌های تسویه و پیاده‌سازی API/گزارش مدیریتی | Backend Data | FX-301 | Migration اجرا شده + گزارش در پنل با فیلتر تاریخ |
| FX-303 | Task 3 | اتصال تراکنش‌ها به لاگ مرکزی و پیاده‌سازی هشدار برای failureهای حیاتی | DevOps + Backend | FX-105, FX-301 | داشبورد هشدار و alert rule فعال |
| FX-401 | Task 4 | تکمیل منطق کاهش `stock` و سناریوهای لغو/بازپرداخت همراه تست | Backend سفارشات | FX-203, FX-301 | تست واحد و یکپارچه پاس + مستند جریان استثنا |
| FX-402 | Task 4 | طراحی و پیاده‌سازی ماژول شکایات (ادمین + اپ مامان) با وضعیت‌های تعریف‌شده | Backend + Frontend | FX-203 | صفحات و API شکایات با تست دستی مستند |
| FX-403 | Task 4 | ایجاد داشبورد مامان با KPIهای تاییدشده و اتصال به داده‌های زنده | Frontend Merchant + Data Analyst | FX-401 | داشبورد با گراف و فیلتر تاریخ شمسی |
| FX-404 | Task 4 | بازطراحی فرآیند آنبوردینگ مامان همراه چک‌لیست و اطلاع‌رسانی | Product + UX + Frontend | FX-402 | فلو جدید در اپ و مستند فرآیند پشتیبانی |
| FX-501 | Task 5 | ممیزی واحد پول/فرمت و اعمال تومان در تمام کانال‌ها + تست snapshot | Frontend Guild | FX-403 | گزارش ممیزی + PRهای اصلاح فرمت |
| FX-502 | Task 5 | پیاده‌سازی کتابخانه تاریخ شمسی در UI، ایمیل و Push به صورت یکپارچه | Backend + Frontend | FX-401 | توابع تاریخ شمسی مشترک + تست واحد |
| FX-503 | Task 5 | راه‌اندازی ساختار i18n در اپ‌های Quasar و تولید فایل‌های ترجمه ماژولار | Frontend | FX-202 | فایل‌های ترجمه به‌روزشده + راهنمای مدیریت محتوا |
| FX-504 | Task 5 | بازبینی RTL و متون بحرانی با تیم محتوا و پشتیبانی | UX + Content | FX-503 | چک‌لیست تصویب‌شده و اسکرین‌شات صفحات |
| FX-601 | Task 6 | به‌روزرسانی `TEST_SCENARIOS.md` و همگام‌سازی با تغییرات Tasks 1–5 | QA Lead | FX-401, FX-503 | نسخه جدید سند با وضعیت هر سناریو |
| FX-602 | Task 6 | پیاده‌سازی و خودکارسازی تست‌های E2E (Smoke + Full) در CI | QA + DevOps | FX-204, FX-401, FX-501 | اجرای موفق تست در CI و گزارش JUnit |
| FX-603 | Task 6 | تکمیل `FINAL_CHECKLIST.md` و `QA_EVALUATION.md` با نتایج تست و ریسک‌های باقی‌مانده | QA Lead | FX-601, FX-602 | اسناد به‌روزشده با امضای تیم‌ها |
| FX-604 | Task 6 | تعریف فرآیند Regression دستی و برنامه‌ریزی Freeze کد پیش از لانچ | QA + Product | FX-602 | برنامه Regression مکتوب و تایید شده |
| FX-701 | Task 7 | بازآرایی پوشه `docs/` و لینک‌دهی اسناد (System Map, Domain, Roadmap) | Technical Writer | FX-603 | ساختار docs با فهرست و لینک‌های متقابل |
| FX-702 | Task 7 | تدوین README ریشه با دستور نصب، اجرای تست، Build فرانت و بک‌اند | Technical Writer + DevRel | FX-701 | README جدید منتشر و تأیید تیم فنی |
| FX-703 | Task 7 | نگارش راهنمای پیکربندی کلیدهای Neshan/Zarinpal/SMS/Cache/Realtime | DevOps + Backend | FX-102, FX-301 | مستند Config با Template متغیر محیطی |
| FX-704 | Task 7 | مستندسازی conventions (نام‌گذاری وضعیت، ساختار ترجمه، لاگ) و اضافه‌کردن به PR Template | Architect | FX-603 | سند conventions + به‌روزرسانی Template |
| FX-705 | Task 7 | ثبت راهنمای Onboarding توسعه‌دهنده جدید با چک‌لیست ۱ روزه | Technical Writer | FX-702, FX-704 | سند Onboarding آماده و به اشتراک گذاشته شده |

> **نکته اجرایی:** برای مدیریت ظرفیت تیم، می‌توان کارت‌های جدول فوق را به اسپرینت‌های متوالی تخصیص داد؛ به عنوان نمونه، FX-101 تا FX-105 در اسپرینت اول، FX-201 تا FX-204 و FX-301 تا FX-303 در اسپرینت دوم و به همین ترتیب تا تکمیل FX-705. هر کارت پس از آماده‌سازی مستندات و خروجی‌های قابل تحویل، باید در `FINAL_CHECKLIST.md` و `QA_EVALUATION.md` علامت‌گذاری شود تا هم‌ترازی کامل بین اجرا و تضمین کیفیت برقرار بماند.
