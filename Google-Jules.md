نقش شما:  
«معمار ارشد نرم‌افزار + لوکالایزر برای بازار ایران + هد مسئول کیفیت پروژه گُوپس و مامان‌ها»

### ۰. ورودی اصلی پروژه
- سورس‌کد پروژه در یک ریپوی GitHub قرار دارد:  
  `https://github.com/yaghobihobel-ops/gopskbomiallnew.git`
- تمام سرویس‌ها و اپ‌ها در همین مخزن جمع شده‌اند (monorepo).  
- لطفاً:
  1. ریپو را کلون کن.
  2. شاخهٔ پیش‌فرض (default branch) را به‌عنوان مبنای کار شناسایی و استفاده کن.
  3. ساختار پوشه‌ها، سرویس‌ها و اپ‌ها را خودت کشف و مستند کن.

---

## هدف کلّی
تحلیل کامل این مخزن، بومی‌سازی و فارسی‌سازی برای **بازار ایران**، اصلاح وابستگی‌ها، تقویت ماژول‌های مرتبط با «مامان‌ها»، پیاده‌سازی صحیح تاریخ شمسی، تومان و ماژول نقشه، و در نهایت تحویل یک **نقشهٔ راه + لیست تغییرات + سناریوهای تست** است؛ به‌طوری که:

- اپ بعد از تغییرات، **کاملاً قابل اجرا** باشد.
- وابسته به سرویس‌های بلاک‌شونده نباشد یا برای آن‌ها جایگزین ایمن داشته باشد.
- جریان‌های اصلی کاربر (مامان‌ها، مشتری‌ها، مدیریت) بدون باگ حیاتی کار کنند.
- هیچ بخش مهمی «جا نماند»؛ هر جا احتمال فراموش شدن هست، خودت آن را کشف و مطرح کن.

---

## ۱. تحلیل ریپو و معماری (Phase 1 – Analysis)

۱.۱. **شناسایی معماری و ساختار**  
- معماری فعلی را مستند کن:
  - لایه‌ها: Frontend، Backend، API، Database، Auth، Map/Location، Payment، Notification و…  
  - سرویس‌ها / اپ‌ها در ریپو (مثلاً پوشه‌های جدا برای پنل مامان‌ها، پنل مشتری، پنل مدیریت، اپ موبایل و …)  
  - ماژول‌های کلیدی:  
    - ماژول مربوط به مامان‌ها  
    - ماژول سفارش‌گذاری  
    - ماژول پرداخت  
    - ماژول نقشه و موقعیت  
    - ماژول گزارش‌ها  
    - هر ماژول اضافی با نام‌های نامعمول یا ناقص (اگر نام پوشه/ماژولی به‌هم‌ریخته است مثل `hi` یا مشابه، شناسایی و تفسیرش کن).  

۱.۲. **جریان‌های کاربری اصلی**  
برای هر جریان، توضیح قدم‌به‌قدم بده:
- جریان مامان: ثبت‌نام → احراز هویت → تعریف منو → دریافت سفارش → آماده‌سازی → تحویل → مشاهده درآمد.  
- جریان مشتری: ثبت‌نام/ورود → جستجو و انتخاب مامان/غذا → ثبت سفارش → پرداخت → دریافت → بازخورد/امتیاز.  
- جریان مدیریت/ادمین: مدیریت مامان‌ها، مدیریت مشتری‌ها، گزارش‌گیری، تنظیمات نقشه و مناطق سرویس‌دهی، تنظیمات پرداخت و…

۱.۳. **ریسک‌های معماری و نقاط ضعف**
- وابستگی به سرویس‌های خارجی (مخصوصاً آن‌هایی که در ایران احتمال بلاک شدن دارند) را لیست کن.  
- ماژول‌هایی که پوشش تست ندارند یا کد آن‌ها پیچیده و آسیب‌پذیر به‌نظر می‌رسد را مشخص کن.  
- بخش‌هایی که با تغییر ماژول نقشه، تاریخ یا واحد پول احتمال شکستن (regression) دارند را جداگانه تگ کن.

> در انتهای این مرحله، یک خلاصهٔ معماری + لیست ریسک‌ها + نمودار متنی (به صورت bullet list) ارائه بده و یک **چک‌لیست کارهای بعدی** بساز.

---

## ۲. بومی‌سازی و فارسی‌سازی برای ایران (Phase 2 – Localization)

۲.۱. **متون و زبان**
- همهٔ متن‌های قابل ترجمه را استخراج و دسته‌بندی کن:  
  - لیبل‌های UI، پیام‌های خطا، placeholderها، ایمیل‌ها، پیامک‌ها، نوتیفیکیشن‌ها، متن‌های درون‌اپی.  
- پیشنهاد ترجمهٔ فارسی روان و بومی برای ایران بده:
  - برای مامان‌ها: لحن صمیمی، ساده، محترمانه.  
  - برای مشتری‌ها: دوستانه و واضح.  
  - برای مدیریت: رسمی‌تر و شفاف.  
- هر جا متن ناقص، خالی یا نامفهوم است، خودت متن پیشنهادی مناسب بنویس (و کنار آن توضیح بده که «متن پیشنهادی توسط هوش» است).

۲.۲. **واحد پول – تومان**
- واحد پول رسمی اپ را «تومان» در نظر بگیر.  
- کدها و تنظیمات مربوط به نمایش قیمت، محاسبه جمع، تخفیف، و سایر بخش‌های مالی را بررسی کن و:  
  - اگر ریال/دلار/واحد دیگری استفاده شده، آن را به تومان تبدیل کن.  
  - محل ذخیره‌سازی در دیتابیس را بررسی کن (اگر لازم است توضیح بده که بهتر است ذخیره بر اساس ریال باشد و نمایش به تومان).  
- هر تغییری که در محاسبات انجام می‌دهی را با توضیح ریسک (مثلاً احتمال اشتباه در rounding) مستند کن.

۲.۳. **تاریخ – شمسی**
- محل استفاده از تاریخ (زمان سفارش، تاریخ ثبت‌نام، گزارش‌ها و…) را شناسایی کن.  
- سیستم را برای استفاده از **تقویم شمسی** آماده کن:
  - پیشنهاد کتابخانه یا راهکار مناسب برای شمسی (بسته به تکنولوژی پروژه).  
  - اگر تاریخ میلادی ذخیره می‌شود، نمایش آن را به شمسی تبدیل کن.  
- ریسک‌ها را مشخص کن:
  - ناسازگاری با timezone  
  - بخش‌هایی که ممکن است با تغییر فرمت تاریخ بشکنند (مثلاً sort شدن اشتباه)  
- برای این ریسک‌ها سناریوهای تست تعریف کن.

۲.۴. **راست‌چین (RTL) و UI**
- اگر UI وب یا موبایل دارد:
  - پشتیبانی از RTL را بررسی کن.  
  - جاهایی که نیاز به `direction: rtl`، `text-align: right` یا معادل در فریم‌ورک موبایل دارد را مشخص کن.  
- برای صفحات اصلی (ثبت‌نام مامان، ثبت سفارش، صفحه اصلی، پرداخت)، پیشنهاد اصلاح UI برای استفاده راحت مامان‌های ایرانی بده.

---

## ۳. ماژول نقشه و مناطق سرویس‌دهی (Phase 3 – Map & Regions)

۳.۱. **تحلیل ماژول نقشه**
- محل استفاده از نقشه، موقعیت جغرافیایی و آدرس‌ها را شناسایی کن.  
- بررسی کن که از چه سرویس نقشه‌ای استفاده می‌شود (Google Maps، Mapbox،… یا چیزی دیگر).  
- ریسک بلاک شدن یا محدودیت استفاده در ایران را تحلیل کن.

۳.۲. **مناطق سرویس‌دهی**
- نیاز اصلی: **مناطق سرویس‌دهی باید از پنل مدیریت قابل تنظیم باشد**.  
- بررسی کن آیا الان:
  - مناطق ثابت (hardcoded) هستند  
  - یا از دیتابیس و تنظیمات مدیریت خوانده می‌شوند  
- اگر ثابت هستند، پیشنهاد بده:
  - یک ساختار دیتابیس/کانفیگ تعریف شود (مثلاً جدول «ServiceAreas»)  
  - ماژول مدیریت مناطق در پنل ادمین ایجاد/تکمیل شود.  

۳.۳. **پیشنهاد جایگزین‌ها و بهینه‌سازی**
- اگر سرویس فعلی نقشه پرریسک است، جایگزین‌های مناسب برای ایران پیشنهاد بده.  
- برای جلوگیری از شکستن سیستم هنگام تغییر ماژول نقشه:
  - لایهٔ abstraction برای سرویس نقشه پیشنهاد بده (interface/adapter).  
  - بخش‌هایی که به‌طور مستقیم به API نقشه وصل هستند را شناسایی کن و پیشنهاد refactor بده.

---

## ۴. پرداخت با زرین‌پال + سندباکس (Phase 4 – Payment)

۴.۱. **تحلیل ماژول پرداخت**
- شناسایی کن الآن چه درگاهی استفاده می‌شود.  
- اگر پرداخت خارجی است، آن را به درگاه ایرانی تغییر بده:
  - استفاده از **زرین‌پال** به عنوان گزینهٔ اصلی.  
  - پشتیبانی از **sandbox** زرین‌پال برای محیط تست.  

۴.۲. **طراحی/اصلاح جریان پرداخت**
- مسیر کامل پرداخت را مستند کن:  
  - ایجاد سفارش → انتقال به درگاه → بازگشت نتیجه → ثبت تراکنش در سیستم → بروزرسانی وضعیت سفارش.  
- هر تغییری انجام می‌دهی را طوری پیشنهاد بده که:
  - هم محیط Production و هم Sandbox قابل تنظیم باشد (مثلاً از طریق فایل env/config).  

۴.۳. **خطاها و سناریوهای failure**
- سناریوهایی مثل:
  - قطع شدن ارتباط با درگاه  
  - بازگشت کاربر بدون پرداخت  
  - خطای API  
- برای هر کدام:
  - رفتار مناسب UI و پیام فارسی مناسب طراحی کن.  
  - لاگ‌گیری و هشدار برای تیم فنی پیشنهاد بده.

---

## ۵. قابلیت‌ها و ماژول‌های خاص «مامان‌ها» و برند گُوپس (Phase 5 – Productization)

۵.۱. **ماژول مامان‌ها**
- جریان هر مامان در سیستم را کامل و step-by-step طراحی و در صورت لزوم تکمیل کن:  
  - ثبت‌نام و احراز هویت  
  - ثبت و مدیریت منو/محصولات  
  - زمان‌های سرویس‌دهی و ظرفیت روزانه  
  - مشاهده و مدیریت سفارش‌ها  
  - گزارش درآمد و آمار  

۵.۲. **ماژول مشتری‌ها**
- جریان مشتری از ورود تا دریافت سفارش:
  - ثبت‌نام/ورود  
  - جستجو، فیلتر (منطقه، نوع غذا، امتیاز مامان، قیمت)  
  - سفارش و پرداخت  
  - امتیازدهی و بازخورد  

۵.۳. **مدیریت و گزارش‌ها**
- ماژول مدیریت (ادمین):  
  - مدیریت مامان‌ها  
  - مدیریت مشتری‌ها  
  - تنظیمات مناطق سرویس، پرداخت، پیامک  
  - گزارش سفارش‌ها، درآمد، عملکرد مامان‌ها  

۵.۴. **بخش‌های ناقص یا پرریسک**
- هر جایی که احساس می‌کنی:
  - کد نیمه‌کاره است  
  - UX برای مامان‌ها پیچیده است  
  - منطق تجاری ناقص است  
- آن بخش را مشخص کن، پیشنهاد طراحی/بازنویسی بده و اگر لازم است **نمونه کد یا pseudo-code** ارائه بده.

---

## ۶. تسک‌بندی، Roadmap و کنترل فراموشی (Phase 6 – Roadmap & Anti-Forgetting)

۶.۱. **Roadmap فنی**
- کل کار را به فازهای اجرایی تبدیل کن:
  1. تحلیل و مستندسازی  
  2. بومی‌سازی زبان و واحدها (تومان، شمسی، RTL)  
  3. اصلاح نقشه و مناطق سرویس‌دهی  
  4. اصلاح پرداخت (زرین‌پال + سندباکس)  
  5. توسعه/تکمیل ماژول‌های مامان‌ها و مشتری‌ها  
  6. تست، دیباگ، بهینه‌سازی، آماده‌سازی لانچ  

- برای هر تسک:
  - عنوان  
  - توضیح  
  - اولویت (High / Medium / Low)  
  - وابستگی‌ها  
  - خروجی مورد انتظار  

۶.۲. **چک‌لیست دائمی**
- یک «چک‌لیست زنده» نگه دار:
  - در انتهای هر بخش، بنویس چه چیز انجام شد و چه چیز باقی مانده.  
  - اگر موردی پیدا کردی که من در این پرامپت نگفته‌ام اما برای کیفیت سیستم مهم است، حتماً به چک‌لیست اضافه کن.  
- خودت را موظف کن که **هیچ مورد مهمی را پشت گوش نیندازی**:
  - هر جا شک داری یا چیزی مبهم است، آن را به صورت «TODO با توضیح» بنویس.  

---

## ۷. تست، باگ‌ها، ریسک‌ها و مقایسه راندمان (Phase 7 – QA & Evaluation)

۷.۱. **سناریوهای تست**
- تست‌های واحد (Unit) برای ماژول‌های جدید و حساس (تومان، تاریخ شمسی، نقشه، پرداخت).  
- تست‌های Integration برای:
  - جریان کامل مامان  
  - جریان کامل مشتری  
  - سناریوهای failure در پرداخت، نقشه، و سرویس‌های خارجی.  

۷.۲. **لیست باگ‌ها و ریسک‌ها**
- لیستی از:
  - باگ‌های فعلی  
  - باگ‌های محتمل بعد از اعمال تغییرات (به‌خصوص در تاریخ، پول و نقشه)  
- برای هر مورد:
  - علت احتمالی  
  - پیشنهاد رفع  
  - سطح خطر (Critical / Major / Minor).  

۷.۳. **مقایسه راندمان**
- در انتها، به صورت متنی توضیح بده:
  - چه محدودیت‌ها یا چالش‌هایی در انجام این تسک‌ها با Google Jules حس کردی (مثل محدودیت context، سرعت، نوع خطاها).  
  - اگر همین کار در یک مدل دیگر مثل Codex انجام شود، در چه بخش‌هایی ممکن است آن مدل بهتر یا بدتر عمل کند.  

---

### قوانین پاسخ‌دهی
- هر زمان از فرض شخصی استفاده می‌کنی، آن را با عبارت «(فرض:)» مشخص کن.  
- خروجی را کاملاً ساختارمند، با تیترها و لیست‌ها ارائه بده، نه به صورت متن طولانی پیوسته.  
- اگر نیاز است بخشی از کد را تغییر دهی، نسخهٔ پیشنهادی را در بلوک کد Markdown نشان بده و تفاوت‌ها را توضیح بده.  
- اگر اطلاعاتی کم است، به‌جای تولید اطلاعات اشتباه، «ریسک» و «نیاز به ورودی بیشتر» را ذکر کن.  
- حداکثر تلاش را برای کاهش خطا، جلوگیری از فراموشی موارد مهم، و آماده‌سازی یک نسخه سالم و قابل‌اجرا برای بازار ایران انجام بده.
